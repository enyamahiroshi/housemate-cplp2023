$(function(){var e=$(".terms .toggle"),t=$(".terms .body");!1===e.is("visible")&&(e.show(),t.fadeOut(0)),e.on("click",function(){$(this).toggleClass("open"),$(this).next(t).fadeToggle(300)})}),$(function(){const e=$(".area"),t=$(".option.shop");var r="#"+e.val();t.not(r).hide(),e.on("change",function(){const e=$("#"+$(this).val());t.hide(),e.show()})}),$(function(){$.validator.addMethod("noOnlyWhiteSpace",function(e,t){return""!==e.trim()}),$(".input form").validate({highlight:function(e,t){$(e).closest(".status").addClass("error"),$(".entry .failed").show()},unhighlight:function(e,t){$(e).closest(".status").removeClass("error"),void 0===$(".contents .error")[0]&&$(".entry .failed").hide()},errorPlacement:function(e,t){switch($target=$(t).closest(".error").attr("class").replace(" status error",""),$target){case"prize":$(t).closest(".error").before(e);break;case"data":$(t).closest(".error").append(e);break;default:("a15"!==$(t).attr("class")?$(t).closest(".error").find(".label"):$(t).closest(".error").find("textarea")).after(e)}return!0},errorElement:"p",errorClass:"alert",focusInvalid:!1}),$(".input .survey .q").each(function(){$(this).find(".feeling input").on("click",function(){"feel"===$(this).attr("class")?$(".q .q12").removeClass("any"):$(".q .q12").addClass("any")}),$(this).find(".option").hasClass("reason")?$(this).find(".reason input").rules("add",{required:{depends:function(e){return $(".feel").is(":checked")}},messages:{required:"項目を選択してください"}}):($(this).find('.option:not(.optional) input[type="radio"]').each(function(){$(this).rules("add",{required:!0,messages:{required:"項目を選択してください"}})}),$(this).find('.option:not(.optional) input[type="checkbox"]').each(function(){$(this).rules("add",{required:!0,messages:{required:"項目を選択してください"}})}),$(this).find("textarea").rules("add",{required:!0,maxlength:250,noOnlyWhiteSpace:!0,messages:{required:"入力してください",maxlength:"全角250文字以内でご入力ください",noOnlyWhiteSpace:"スペース、改行以外のテキストも入力してください"}}))}),$(".input form").submit(function(){0<$(".alert").filter(":visible").length&&$("html,body").animate({scrollTop:$(".anchor").offset().top})})});